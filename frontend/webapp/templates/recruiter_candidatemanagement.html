<!--  Application:    Anerkennung AI Cockpit                                -->
<!--  Module:         templates.recruiter_dashboard_candidatemanagement     -->
<!--  Author:         Heiko Matamaru, IGS                                   -->
<!--  Version:        0.0.1                                                 -->

{% extends 'base.html' %}

    
{% block title %} Candidate Management - Recruiter Dashboard {% endblock %}
{% block meta_description %} Manage candidates for the Anerkennung AI Cockpit. {% endblock %}

{% block content %}
  <div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h5 class="mb-0">Candidates</h5>
      <form class="d-flex gap-2" method="get" action="{{ url_for('recruiter.candidate_management') }}">
        <input type="search" name="q" class="form-control form-control-sm" placeholder="Search name or email" value="{{ query or '' }}">
        <button type="submit" class="btn btn-sm btn-outline-primary">Search</button>
      </form>
    </div>

    {% if candidates %}
      <div class="table-responsive">
        <table class="table table-sm align-middle">
          <thead>
            <tr>
              <th>Username</th>
              <th>Email</th>
              <th class="text-center">Applications</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {% for c in candidates %}
              <tr>
                <td>{{ c.username }}</td>
                <td>{{ c.email }}</td>
                <td class="text-center">{{ c.application_count }}</td>
                <td class="text-end">
                  <a class="btn btn-sm btn-outline-secondary" href="{{ url_for('recruiter.candidate_management', user_id=c.user_id) }}">
                    View Applications
                  </a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <div class="alert alert-info">No candidates found.</div>
    {% endif %}
  </div>


{% endblock %}
